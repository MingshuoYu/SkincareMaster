<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Skincare Master</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.2/css/all.css" integrity="sha384-/rXc/GQVaYpyDdyxK+ecHPVYJSN9bmVFBvjA/9eOB+pb3F2w2N6fc5qB9Ew5yIns"
        crossorigin="anonymous">


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <script src="https://use.fontawesome.com/releases/v5.0.8/js/all.js"></script>
</head>

<body>
    <!--Nav bar-->
    <div>
        <div id="mySidenav" class="sidenav">
            <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
            <a href="ReviewList.html">REVIEW</a>
            <a class="inSidenav" href="ProductTypeList.html">Product Type</a>
            <a class="innerSidenav" href="cleanserList.html">cleanser</a>
            <a class="innerSidenav" href="moisturizerList.html">moisturizer</a>
            <a class="innerSidenav" href="bodyLotionList.html">body lotin</a>
            <a class="innerSidenav" href="serumList.html">serum</a>
            <a class="innerSidenav" href="eyeCareList.html">eye care</a>
            <a class="inSidenav" href="#">Skin Concern</a>
            <a class="innerSidenav" href="AcneList.html">Acne</a>
            <a class="innerSidenav" href="BlackheadsList.html">Blackheads</a>
            <a class="innerSidenav" href="DiscolorationList.html">Discoloration</a>
            <a class="innerSidenav" href="WrinklesList.html">Wrinkles</a>
            <a href="ArticleList.html">ARTICLE</a>
            <a class="innerSidenav" href="DIYSkincareList.html">DIY Skincare</a>
            <a class="innerSidenav" href="NutritionList.html">Nutrition</a>
            <a class="innerSidenav" href="ExpertAdviceList.html">Expert Advice</a>
            <a href="myAccountPage.html">MY ACCOUNT</a>
        </div>
        &nbsp;<a class="backBtn" href="index.html"><i class="fas fa-chevron-left" style='font-size:24px'></i></a>&nbsp;
        <span style="font-size:30px;cursor:pointer" onclick="openNav()">&#9776; </span>
        <a class="title justify-content-center" href="#">SkincareMaster</a>
    </div>
    <!-- Search form -->
    <div>
        <form class="form-inline ">
            <input class="form-control form-control-sm mr-3 w-75" type="text" placeholder="Search eg: cleanser"
                aria-label="Search">
            <a class="searchBtn" href="cleanserList.html"><i class="fa fa-search" aria-hidden="true"></i></a>
        </form>
    </div>
    <!--Login form -->

    <form action="action_page.php">

        <div class="containerLogin">
            <label for="uname"><b>Username</b></label>
            <input type="text" id="userNameInput" placeholder="Enter Username" name="uname" required>

            <label for="psw"><b>Password</b></label>
            <input type="password" id="passwordInput" placeholder="Enter Password" name="psw" required>

            <button type="button" class="btn btn-dark" onclick="signIn()">Sign In</button>
            <br>
            <br>
            <button type="button" class="btn btn-dark" onclick="signUp()">Sign Up</button>

        </div>



    </form>


    <script>
        $(document).ready(function() {
        if(sessionStorage.getItem("isLoggedIn") == "yes"){
            window.location = 'userInfo.html?currentUser='+sessionStorage.getItem("currentUser");
        }
        });

        function openNav() {
            document.getElementById("mySidenav").style.width = "250px";
        }

        function closeNav() {
            document.getElementById("mySidenav").style.width = "0";
        }

        function signUp() {
            var userNameFiled = document.getElementById('userNameInput').value;
            var passwordFiled = document.getElementById('passwordInput').value;

            if(localStorage.getItem(userNameFiled)){
                alert("User already exist!\nPlease sign in.");
            }
            else{
                localStorage.setItem(userNameFiled, passwordFiled);
                var favoriteList = [];
                localStorage.setItem(userNameFiled+"favoriteList", JSON.stringify(favoriteList));
                alert("Account created! You may now sign in.");
            }
            
        }

        function signIn() {
            var userNameField = document.getElementById('userNameInput').value;
            var passwordField = document.getElementById('passwordInput').value;

            var currentUser = localStorage.getItem(userNameField);

            if(currentUser){
                if(passwordField != currentUser){
                    alert("Wrong Password!");
                }
                else{
                    sessionStorage.setItem("isLoggedIn", "yes");
                    sessionStorage.setItem("currentUser", userNameField);
                    window.location = 'userInfo.html?currentUser='+userNameField;
                }

            }
            else{
                alert("User does not exist!");
            }
        }
    </script>
</body>

</html>