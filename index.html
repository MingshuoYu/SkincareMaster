<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Skincare Master</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.2/css/all.css" integrity="sha384-/rXc/GQVaYpyDdyxK+ecHPVYJSN9bmVFBvjA/9eOB+pb3F2w2N6fc5qB9Ew5yIns"
    crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
  <script src="https://use.fontawesome.com/releases/v5.0.8/js/all.js"></script>
</head>

<body>
  <!--Nav bar-->
  <div>
    <div id="mySidenav" class="sidenav">
      <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
      <p>REVIEW</p>
      <p class="inSidenav">Product Type</p>
      <a class="innerSidenav" href="cleanserList.html">cleanser</a>
      <a class="innerSidenav" href="moisturizerList.html">moisturizer</a>
      <a class="innerSidenav" href="bodyLotionList.html">body lotion</a>
      <p class="inSidenav">Skin Concern</p>
      <a class="innerSidenav" href="AcneList.html">Acne</a>
      <a class="innerSidenav" href="BlackheadsList.html">Blackheads</a>
      <a class="innerSidenav" href="WrinklesList.html">Wrinkles</a>
      <p>ARTICLE</p>
      <a class="innerSidenav" href="DIYSkincareList.html">DIY Skincare</a>
      <a class="innerSidenav" href="NutritionList.html">Nutrition</a>
      <a class="innerSidenav" href="ExpertAdviceList.html">Expert Advice</a>
      <a href="myAccountPage.html">MY ACCOUNT</a>
      <button type="button" class="btn btn-dark" id="signOutBtn" onclick="signOut()" style="visibility: hidden;margin-left:150px">Sign Out</button>
    </div>

    <a class="title justify-content-center" href="index.html">SkincareMaster</a>
    <span class="mainManuButton" style="font-size:30px;cursor:pointer" onclick="openNav()">&#9776; </span>
  </div>
  <!-- Search form -->


  <div class="row justify-content-center">
    <form class="example col-10">
      <input type="text" placeholder="Search.." name="search" id="searchField">
      <button type="button"><i class="fa fa-search" onclick="search()"></i></button>
    </form>
  </div>

  <div class="jumbotron jumbotron-fluid jumbotron-bg">
    <div class="container">
      <h3>Welcome</h3>
      <br>
      <p class="lead">Start your journey </p>
      <p class = "lead">to healthy skin.</p>
    </div>
  </div>

  <!--<hr class="my-4">-->

  <!-- Top Products-->
  <h4 class="text-center">Popular Products</h4>


  <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">

    <div class="carousel-inner">
      <div class="carousel-item active">
        <div class="row justify-content-center">
          <div class="col-3">
            <a href="productDetail.html?type=acne&product=Soy Face Cleanser">
              <img class="img-fluid img-thumbnail" src="img/cleanser3.jpg" alt="1 slide">
              <p class="text-center text-truncate">Soy Face Cleanser</p>
            </a>
          </div>
          <div class="col-3">
            <a href="productDetail.html?type=acne&product=Cleanser/Traitement De Nettoyage">
              <img class="img-fluid img-thumbnail" src="img/cleanser1.jpg" alt="1 slide">
              <p class="text-center text-truncate">Cleanser/Traitement De Nettoyage</p>
            </a>
          </div>
          <div class="col-3">
            <a href="productDetail.html?type=acne&product=Facial Treatment Cleanser">
              <img class="img-fluid img-thumbnail" src="img/cleanser2.jpg" alt="1 slide">
              <p class="text-center text-truncate">Facial Treatment Cleanser</p>
            </a>
          </div>
        </div>
      </div>

      <div class="carousel-item">
        <div class="row justify-content-center">
          <div class="col-3">
            <a href="productDetail.html?type=acne&product=moisturizing lotion">
              <img class="img-fluid img-thumbnail" src="img/moist4.jpeg" alt="1 slide">
              <p class="text-center text-truncate">moisturizing lotion</p>
            </a>
          </div>
          <div class="col-3">
            <a href="productDetail.html?type=acne&product=Crème de la Mer">
              <img class="img-fluid img-thumbnail" src="img/moist3.jpeg" alt="1 slide">
              <p class="text-center text-truncate">Crème de la Mer</p>
            </a>
          </div>
          <div class="col-3">
            <a href="productDetail.html?type=acne&product=R.N.A. POWER Face Cream">
              <img class="img-fluid img-thumbnail" src="img/moist2.jpg" alt="1 slide">
              <p class="text-center text-truncate">R.N.A. POWER Face Cream</p>
            </a>
          </div>
        </div>
      </div>

      <div class="carousel-item">
        <div class="row justify-content-center">
          <div class="col-3">
            <a href="productDetail.html?type=acne&product=EradiKate™ Acne Treatment">
              <img class="img-fluid img-thumbnail" src="img/Acne1.JPG" alt="1 slide">
              <p class="text-center text-truncate">EradiKate™ Acne Treatment</p>
            </a>
          </div>
          <div class="col-3">
            <a href="productDetail.html?type=acne&product=High CBD Formula Body Lotion">
              <img class="img-fluid img-thumbnail" src="img/lotion2.jpeg" alt="1 slide">
              <p class="text-center text-truncate">High CBD Formula Body Lotion</p>
            </a>
          </div>
          <div class="col-3">
            <a href="productDetail.html?type=acne&product=Instant Detox Mask II">
              <img class="img-fluid img-thumbnail" src="img/BlackHead1.JPG" alt="1 slide">
              <p class="text-center text-truncate">Instant Detox Mask II</p>
            </a>
          </div>
        </div>
      </div>
    </div>
    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>

  <hr class="my-4">

  <!-- Latest Articles-->
  <h4 class="text-center">Latest Articles</h4>

  <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
    <div class="carousel-inner">
      <div class="carousel-item active">
        <div class="row justify-content-center">

          <div class="col-7">
            <a href="articleDetail.html?type=advice&title=Always%20Double%20Cleanse">
              <img src="img/cleanFace.jpg" class="img-fluid">
            </a>
          </div>
          <div class="col-3">
            <a href="articleDetail.html?type=advice&title=Always%20Double%20Cleanse">
              <p>Always Double Cleanse</p>
            </a>
          </div>

        </div>
      </div>
      <div class="carousel-item">
        <div class="row justify-content-center">
          <div class="col-7">
            <a href="articleDetail.html?type=DIY&title=The%20Calming%20Honey%20Mask">
              <img src="img/honey.jpg" class="img-fluid">
            </a>
          </div>
          <div class="col-3">
            <a href="articleDetail.html?type=DIY&title=The%20Calming%20Honey%20Mask">
              <p>The Calming Honey Mask</p>
            </a>
          </div>
        </div>
      </div>
      <div class="carousel-item">
        <div class="row justify-content-center">
          <div class="col-7">
            <a href="articleDetail.html?type=DIY&title=The%20Exfoliating%20Brown%20Sugar%20Scrub%20Mask">
              <img src="img/exfoliate.jpg" class="img-fluid">
            </a>
          </div>
          <div class="col-3">
            <a href="articleDetail.html?type=DIY&title=The%20Exfoliating%20Brown%20Sugar%20Scrub%20Mask">
              <p>The Exfoliating Brown Sugar Scrub Mask</p>
            </a>
          </div>
        </div>
      </div>
    </div>
    <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>

  <hr class="my-4">

  <script>
    var products = [
      //cleanser
      { 'company': 'Fresh', 'productName': 'Soy Face Cleanser', 'picture': 'img/cleanser3.jpg', 'rating': 5, 'index': 1, 'fav': 30 },
      { 'company': 'PHILOSOPHY', 'productName': 'Purity Made Simple Cleanser', 'picture': 'img/cleanser4.jpg', 'rating': 4, 'index': 2, 'fav': 40 },
      { 'company': 'EVE LOM', 'productName': 'Cleanser/Traitement De Nettoyage', 'picture': 'img/cleanser1.jpg', 'rating': 5, 'index': 3, 'fav': 50 },
      { 'company': 'SK-II', 'productName': 'Facial Treatment Cleanser', 'picture': 'img/cleanser2.jpg', 'rating': 5, 'index': 4, 'fav': 60 },

      // moisturizer
      { 'company': 'LA MER', 'productName': 'Crème de la Mer', 'picture': 'img/moist3.jpeg', 'rating': 4, 'fav': 40 },
      { 'company': "KIEHL'S SINCE 1851", 'productName': 'Ultra Facial Cream', 'picture': 'img/moist1.jpeg', 'rating': 3, 'fav': 50 },
      { 'company': 'CLINIQUE', 'productName': 'moisturizing lotion', 'picture': 'img/moist4.jpeg', 'rating': 5, 'fav': 70 },
      { 'company': 'SK-II', 'productName': 'R.N.A. POWER Face Cream', 'picture': 'img/moist2.jpg', 'rating': 4, 'fav': 60 },

      // acne
      { 'company': 'KATE SOMERVILLE', 'productName': 'EradiKate™ Acne Treatment', 'picture': 'img/Acne1.JPG', 'rating': 4, 'fav': 40, 'price': '$26.00' },
      { 'company': 'MURAD', 'productName': 'Rapid Relief Acne Spot Treatment', 'picture': 'img/Acne2.JPG', 'rating': 3, 'fav': 30, 'price': '$22.00' },

      //lotion
      { 'company': 'DONNA KARAN', 'productName': 'Donna Karan Cashmere Mist Body set', 'picture': 'img/lotion1.jpeg', 'rating': 3, 'fav': 30, 'price': '$30.00' },
      { 'company': 'LORD JONES', 'productName': 'High CBD Formula Body Lotion', 'picture': 'img/lotion2.jpeg', 'rating': 4, 'fav': 40, 'price': '$60.00' },
      { 'company': "L'OCCITANE", 'productName': 'Shea Butter Rich Body Lotion', 'picture': 'img/lotion4.png', 'rating': 3, 'fav': 50, 'price': '$34.00' },
      { 'company': 'PHILOSOPHY', 'productName': 'Pure Grace Perfumed Body Lotion', 'picture': 'img/lotion3.jpeg', 'rating': 5, 'fav': 60, 'price': '$39.00' },

      //blackhead
      { 'company': 'CLINIQUE', 'productName': 'Blackhead Solutions 7 Day Scrub', 'picture': 'img/BlackHead2.JPG', 'rating': 4, 'fav': 30, 'price': '$24.00' },
      { 'company': 'CAUDALIE', 'productName': 'Instant Detox Mask II', 'picture': 'img/BlackHead1.JPG', 'rating': 5, 'fav': 40, 'price': '$39.00' },

      //wrinkle
      { 'company': 'ESTÉE LAUDER', 'productName': 'Advanced Night Repair Synchronized Recovery Complex II', 'picture': 'img/Wrinkle1.JPG', 'rating': 3, 'fav': 30, 'price': '$98.00' },
      { 'company': 'KATE SOMERVILLE', 'productName': 'Instant Detox Mask', 'picture': 'img/Wrinkle2.JPG', 'rating': 4, 'fav': 40, 'price': '$60.00' },
      { 'company': 'ESTÉE LAUDER', 'productName': 'Perfectionist CPR Wrinkle Lifting', 'picture': 'img/wrinkle3.png', 'rating': 3, 'fav': 50, 'price': '$98.00' },
      { 'company': 'DR. DENNIS GROSS SKINCARE', 'productName': 'Retinol Wrinkle Recovery Overnight Serum', 'picture': 'img/wrinkle4.png', 'rating': 5, 'fav': 60, 'price': '$88.00' }
    ]

    var types = [
      { 'type': 'cleanser', 'link': 'cleanserList.html' },
      { 'type': 'moisturizer', 'link': 'moisturizerList.html' },
      { 'type': 'acne', 'link': 'AcneList.html' },
      { 'type': 'lotion', 'link': 'bodyLotionList.html' },
      { 'type': 'blackhead', 'link': 'BlackheadsList.html' },
      { 'type': 'wrinkle', 'link': 'WrinklesList.html' }
    ]

    $(document).ready(function () {
      var productList = [];
      for (var i = 0; i < products.length; i++) {
        productList.push(products[i].productName);
      }
      localStorage.setItem("productList", JSON.stringify(productList));

      localStorage.setItem("typeList", JSON.stringify(types));

      if(sessionStorage.getItem("isLoggedIn") == "yes"){
                document.getElementById("signOutBtn").style.visibility="visible";
            }
    });
    function openNav() {
      document.getElementById("mySidenav").style.width = "250px";
    }

    function closeNav() {
      document.getElementById("mySidenav").style.width = "0";
    }

    function search() {
      var input = document.getElementById("searchField").value;
      var productList = JSON.parse(localStorage.getItem("productList"));
      var typeList = JSON.parse(localStorage.getItem("typeList"));
      var foundProduct = false;
      var foundType = false;
      var link;
      var product;
      for (var i = 0; i < productList.length; i++) {
        var currData = productList[i];

        if (currData.toUpperCase() === input.toUpperCase()) {
          foundProduct = true;
          product = productList[i];
        }
      }
      if (!foundProduct) {
        for (var i = 0; i < typeList.length; i++) {
          var currType = typeList[i].type;
          if (currType.toUpperCase() === input.toUpperCase()) {
            foundType = true;
            link = typeList[i].link;
          }
        }
      }
      if (foundProduct) {
        window.location = "productDetail.html?product=" + product;
      }
      else if (foundType) {
        window.location = link;
      }
      else {
        alert("Sorry, item is not found :(");
      }
    }
    function signOut() {
            sessionStorage.setItem("isLoggedIn", "no");
            sessionStorage.setItem("currentUser", "");
            window.location = 'myAccountPage.html';
        }
  </script>
</body>

</html>