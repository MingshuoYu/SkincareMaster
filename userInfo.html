<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Skincare Master</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.2/css/all.css" integrity="sha384-/rXc/GQVaYpyDdyxK+ecHPVYJSN9bmVFBvjA/9eOB+pb3F2w2N6fc5qB9Ew5yIns"
        crossorigin="anonymous">


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <script src="https://use.fontawesome.com/releases/v5.0.8/js/all.js"></script>
</head>

<body>
    <!--Nav bar-->
    <div>
        <div id="mySidenav" class="sidenav">
                <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
                <a href="">REVIEW</a>
                <a class="inSidenav" href="">Product Type</a>
                <a class="innerSidenav" href="cleanserList.html">cleanser</a>
                <a class="innerSidenav" href="moisturizerList.html">moisturizer</a>
                <a class="innerSidenav" href="bodyLotionList.html">body lotion</a>
                <a class="inSidenav" href="">Skin Concern</a>
                <a class="innerSidenav" href="AcneList.html">Acne</a>
                <a class="innerSidenav" href="BlackheadsList.html">Blackheads</a>
                <a class="innerSidenav" href="WrinklesList.html">Wrinkles</a>
                <a href="">ARTICLE</a>
                <a class="innerSidenav" href="DIYSkincareList.html">DIY Skincare</a>
                <a class="innerSidenav" href="NutritionList.html">Nutrition</a>
                <a class="innerSidenav" href="ExpertAdviceList.html">Expert Advice</a>
                <a href="myAccountPage.html">MY ACCOUNT</a>
        </div>
        &nbsp;&nbsp;&nbsp;&nbsp;<a class="backBtn" href="index.html"><i class="fas fa-chevron-left" style='font-size:24px'></i></a>&nbsp;&nbsp;&nbsp;
        <a class="title justify-content-center" href="#">SkincareMaster</a>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <span style="font-size:30px;cursor:pointer" onclick="openNav()">&#9776; </span>
    </div>
    <!-- Search form -->
    <div>
        <form class="form-inline ">
            <input class="form-control form-control-sm mr-3 w-75" type="text" placeholder="Search eg: cleanser"
                aria-label="Search">
            <a class="searchBtn" href="cleanserList.html"><i class="fa fa-search" aria-hidden="true"></i></a>
        </form>
    </div>


    <!--page content -->
    <h3 id="userName"></h3>
    <button type="button" class="btn btn-dark" onclick="signOut()">Sign Out</button>

    <h4>My Favorite Product</h4>
    <script id="fav-template" type="text/x-handlebars-template">
        <li>{{productName}}</li>
    </script>
    <ul id="templatedFavoriteList">
    </ul>





    <script>
        $(document).ready(function() {
        var qs = new URLSearchParams(window.location.search);
        var currentUser = qs.get("currentUser");
        document.getElementById('userName').innerHTML = "Welcome, " + currentUser +"!";

        var favoriteList = JSON.parse(localStorage.getItem(currentUser+"favoriteList"));

        var source = $("#fav-template").html();
        var template = Handlebars.compile(source);
        var parentDiv = $("#templatedFavoriteList");

        for (var i = 0; i < favoriteList.length; i++) {
            var curData = favoriteList[i];
            var curHtml = template(curData);
            parentDiv.append(curHtml);
            }
        });

        function signOut() {
            sessionStorage.setItem("isLoggedIn", "no");
            sessionStorage.setItem("currentUser", "");
            window.location = 'myAccountPage.html';
        }

        function openNav() {
            document.getElementById("mySidenav").style.width = "250px";
        }

        function closeNav() {
            document.getElementById("mySidenav").style.width = "0";
        }
    </script>
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/handlebars-v4.0.11.js"></script>
    <script src="js/main.js"></script>
</body>

</html>